## 리눅스 시스템, 파일 시스템, 스토리지 관리

### 우분투 및 소프트웨어 관리

개발 환경에서 소프트웨어를 설치하기 전에 중앙 레포지토리에서 사용가능한 최신 업데이트를 아래 명령어로 확인할 수 있다.

```shell
sudo apt-get update # apt 패키지 관리자

sudo apt install figlet # 텍스트 배너 생성 소프트웨어 설치

figlet 90DaysOfDevOps # 텍스트 배너 생성

sudo apt remove figlet # 소프트웨어 제거
```

- 타사 레포지토리를 추가하고, 타사 소프트웨어를 설치할 수 있다. (ex. Vagrant)
    - 타사 레포지토리를 신뢰하는 키 추가 -> 시스템에 레포지토리 추가 -> 소프트웨어 설치
- 우분투에는 소프트웨어 설치와 관련하여 내장된 패키지 관리자를 사용할 수 있는 다양한 옵션이 있으며, 스냅을 이용한 소프트웨어 설치도 가능하다.

### 파일 시스템

- Linux 구성 파일들로 이루어져 있으며, 변경하고자 하는 내용이 있다면 해당 구성 파일을 수정하면 된다.
- Windows 운영체제에서는 C 드라이브가 루트 디렉토리다. Linux 운영체제에서는 `/`가 중요한 위치로, 시스템 내의 여러 폴더를 찾을 수 있다.

```shell
/bin # 바이너리의 줄임말로, 시스템에서 필요한 실행 파일, 도구, 바이너리가 있는 폴더
/boot # 시스템 부팅에 필요한 모든 파일이 위치, 부팅 방법과 부팅할 드라이브
/dev # 장치 정보, 디스크 드라이브에 대한 포인터, sda가 기본 OS 디스크
/etc # 리눅스 시스템에서 가장 중요한 폴더, 대부분의 구성 파일이 존재
/home # 사용자 폴더와 파일이 위치, Vagrant, Document, Desktop 폴더
/lib # bin 폴더에 있는 실행 파일들에 대한 공유 라이브러리가 존재한다.
/media # 이동식 디바이스를 찾을 수 있다.
/mnt # 임시 마운트 지점
/opt # 옵션 소프트웨어 패키지 존재, Vagrant 및 가상 머신 패키지가 존재
/proc # 커널 및 프로세스 정보 존재, dev와 유사
/root # 엑세스 권한을 얻으려면 sudo를 사용해야 하는 루트의 홈 폴더
/run # 애플리케이션 상태를 위한 자리 표시자
/sbin # bin 폴더와 유사하지만, 슈퍼유저 권한이 필요한 도구들이 존재한다. 즉 sudo bin이다.
/tmp # 임시 파일이 위치하는 폴더
/usr # 일반 사용자가 소프트웨어 패키지를 설치한 경우, 여기에 설치된다.
/var # 애플리케이션은 bin 폴더에 설치된다. var 폴더는 관련된 모든 로그 파일을 저장한다.
```

### 스토리지

- Linux 시스템이나 다른 시스템에서도 사용 가능한 디스크와 해당 디스크의 여유 공간을 확인하는 것은 유용하다.
- 아래 명령어들을 통해 스토리지를 식별, 사용, 관리할 수 있다.

```shell
lsblk # 블록 장치를 나열, sda는 물리적 디스크, sda1, sda2, sda3는 해당 디스크의 파티션
df # 파티션 정보, 전체 사용량, 사용 가능한 용량, df -h로 더 읽기 쉬운 출력

sudo mkfs -t ext4 /dev/sdb # 새 디스크 포맷
sudo mkdir NewDisk # /mnt 폴더에서 수행
mount /dev/sdb NewDisk # 해당 위치에 디스크를 마운트
sudo umount /dev/sdb # 스토리지를 안전하게 마운트 해제
```

- 만약 디스크를 해제하지 않고, 디스크를 DB나 지속적으로 사용하려면 시스템을 재부팅할 때 해당 디스크가 있어야 한다.
- 이를 위해, `/etc/fstab` 구성 파일에 추가하여 지속성을 유지할 수 있다. 추가하지 않으면 자동으로 마운트되지 않는다.
- `fstab` 구성 파일을 편집한 후, `sudo mount -a` 명령으로 작동을 확인할 수 있다.
